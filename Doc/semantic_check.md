# Semantic Analyze

- 通用Ast转化为带类型的结构化Ast(Convert)

- 符号表建立(Symbol table)

- 语义检查(Semantic check)
	- 类型检查
		- 赋值类型检查
		- 算术运算类型检查
		- 函数调用和返回值类型检查
	- 作用域检查
		- 变量/函数是否在当前或外层作用域定义过
		- 在作用域内是否有重名定义或不合法的遮蔽
	- 控制流与 return 检查
		- break / continue 是否出现在循环或 switch 内
		- 函数的所有路径是否都有 return
		- 死代码检测
		- if 条件必须是布尔可判定的表达式
	- 结构体与数组检查
		- 结构体成员访问是否合法
		- 数组下标类型是否为整数
		- 结构体的成员是否存在
	- const 合法性检查
		- 常量表达式计算
		- 检查数组大小、case 标签是否为常量
		- 检查常量是否被修改
