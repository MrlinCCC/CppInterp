# CppInterp

 **CppInterp** 旨在实现一个用 C++ 编写的简化语法的解释器项目，旨在理解和实践编译器从源代码到目标代码的转换过程，并通过实现解释器的各个环节来深化对编译原理的理解。‘


 ## 核心过程

- 词法分析（Lexer）:将源代码转换成一系列的词法单元（tokens）
- 语法分析（Parser）:将词法分析器生成的 token 流按照语法规则转换为抽象语法树（AST）
- 语义分析 (Analyser）:对语法树进行语义检查，确保程序的正确性（如类型检查、作用域管理）
- 字节码（BC）生成与优化： 将抽象语法树转换为自定义的字节码格式。在生成过程中可进行轻量级优化（如常量折叠、冗余表达式消除）
- 虚拟机实现(VM):实现一个虚拟机，模拟程序运行的环境，加载并执行字节码

## 技术栈

- C++20：现代 C++标准，提升代码性能与安全性
- CMake：跨平台构建工具，简化项目构建配置
- Vcpkg：C++包管理工具，简化依赖库安装
- Git：版本控制系统，方便团队协作与代码管理
- Google Test：单元测试框架，保障代码质量


## ✨ 预期基本功能
- 手写实现词法分析器:利用有限状态机（FSM）将源代码转化为词法单元。通过设计状态转换表，实现对关键字、运算符、标识符、常量等基本语法元素的识别。
- 手写实现语法分析器:定义类C语法风格的扩展巴科斯范式（EBNF),采用递归下降解析技术，将词法单元序列转换为抽象语法树（AST）。支持表达式、语句、函数等基本结构的解析。
- 语义检查和分析: 对抽象语法树进行符号表构建、作用域与类型检查等语义校验，确保程序逻辑一致且合法，为字节码生成阶段提供符号与上下文信息支持。
- 中间表示与优化:将语法树转化为三地址码，并通过前端优化（常量折叠、死代码消除）减少冗余，后端优化（控制流优化）进一步改进程序结构。
- 字节码生成与轻量优化:将抽象语法树（AST）直接翻译为自定义字节码格式，并在生成过程中进行常量折叠、冗余消除和控制流简化等语义保持的轻量优化，完成指令映射与符号表绑定，为虚拟机执行提供输入。
- 单元测试与示例程序:编写全面的单元测试，覆盖词法分析、语法分析、字节码生成与虚拟机执行等核心模块。提供示例程序，展示解释器的基本功能与使用方法。

## 🚀 未来功能规划
- 泛型编程:引入模板机制，支持类型参数化，提升代码复用性和灵活性。
- 多线程支持:引入线程管理和同步机制，支持并发编程，提升程序性能和响应能力。
- 垃圾回收:实现自动内存管理机制，采用标记-清除或引用计数算法，提升内存使用效率，防止内存泄漏。
- 标准库支持:实现常用数据结构（如数组、链表、哈希表）和算法（如排序、搜索），提供文件操作、字符串处理等实用功能，提升语言的实用性和开发效率。、
- 错误处理与调试:实现详细的错误报告机制，支持运行时异常处理，提供调试功能（如断点设置、单步执行），提升开发体验和代码质量。
- AOT和JIT编译:实现提前编译（AOT）和即时编译（JIT）功能，提升程序执行效率，支持动态优化和代码生成。